{"ast":null,"code":"import { useEffect } from 'react';\nimport qs from 'qs';\nimport { client, linkResolver } from '../prismic-config';\n\nconst Preview = ({\n  history,\n  location\n}) => {\n  useEffect(() => {\n    const params = qs.parse(location.search.slice(1));\n    console.log(params);\n\n    if (!params.token) {\n      return console.warn(`No token available, check your configuration`);\n    }\n\n    client.previewSession(params.token, linkResolver, '/').then(url => history.push(url));\n  });\n  return null;\n};\n\nexport default Preview;","map":{"version":3,"sources":["/Users/priyankamaheshwari/Desktop/reactjs-multi-lang/src/pages/Preview.js"],"names":["useEffect","qs","client","linkResolver","Preview","history","location","params","parse","search","slice","console","log","token","warn","previewSession","then","url","push"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAASC,MAAT,EAAgBC,YAAhB,QAAoC,mBAApC;;AAIA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAA2B;AACzCN,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,MAAM,GAAGN,EAAE,CAACO,KAAH,CAASF,QAAQ,CAACG,MAAT,CAAgBC,KAAhB,CAAsB,CAAtB,CAAT,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;;AACA,QAAI,CAACA,MAAM,CAACM,KAAZ,EAAmB;AACjB,aAAOF,OAAO,CAACG,IAAR,CAAc,8CAAd,CAAP;AACD;;AAEDZ,IAAAA,MAAM,CAACa,cAAP,CAAsBR,MAAM,CAACM,KAA7B,EAAoCV,YAApC,EAAkD,GAAlD,EACGa,IADH,CACQC,GAAG,IAAIZ,OAAO,CAACa,IAAR,CAAaD,GAAb,CADf;AAED,GATQ,CAAT;AAUA,SAAO,IAAP;AACD,CAZD;;AAcA,eAAeb,OAAf","sourcesContent":["import { useEffect } from 'react'\nimport qs from 'qs'\nimport { client,linkResolver } from '../prismic-config';\n\n\n\nconst Preview = ({ history, location }) => {\n  useEffect(() => {\n    const params = qs.parse(location.search.slice(1))\n    console.log(params)\n    if (!params.token) {\n      return console.warn(`No token available, check your configuration`)\n    }\n\n    client.previewSession(params.token, linkResolver, '/')\n      .then(url => history.push(url))\n  })\n  return null\n}\n\nexport default Preview"]},"metadata":{},"sourceType":"module"}